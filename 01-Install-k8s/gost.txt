[Unit]
Description=KCPTun Server Service
After=network.target

[Service]
Type=simple
User=root
# 注意：这里 -t 指向你 gost 的端口
ExecStart=/usr/local/bin/kcptun-server -t "127.0.0.1:23766" -l ":4000" -mode fast3 -nocomp -sockbuf 16777217 -dscp 46
Restart=always
RestartSec=5

LimitNOFILE=65535

[Install]
WantedBy=multi-user.target





[Unit]
Description=KCPTun Client Service
After=network.target

[Service]
Type=simple
User=root

ExecStart=/usr/local/bin/kcptun-client -r "<外网>:4000" -l ":8388" -mode fast3 -nocomp -autoexpire 900 -sockbuf 16777217 -dscp 46
Restart=always
RestartSec=5
LimitNOFILE=65535

[Install]
WantedBy=multi-user.target



root@VM-0-2-ubuntu:~# cat /etc/systemd/system/gost.service 
[Unit]
Description=Gost Proxy Service
After=network.target

[Service]
Type=simple
ExecStart=/usr/local/bin/gost -L :23766
Restart=always
RestartSec=5

[Install]
WantedBy=multi-user.target


nc -vuz xxx  4000
  -v (Verbose): 详细输出模式。它会告诉你连接是成功了还是失败了，而不是沉默。
  -u (UDP): 最关键的参数。因为你的 kcptun 走的是 UDP 协议，如果不加这个参数，nc 默认会去测 TCP 端口。
  -z (Zero-I/O): 扫描模式。告诉 nc 只要连接上就行，不需要发送任何实际数据。
